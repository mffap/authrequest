<html>
    <script language="JavaScript">
        
        let client_id = ""
        let client_secret = ""
        let sha = ""
        function setClientId(input) {
            client_id = input.value;
            update()
        }

        function setClientSecret(input) {
            client_secret = input.value;
            update()
        }
        function utf8_to_b64(str1, str2) {
            return window.btoa(unescape(encodeURIComponent(str1))+':'+unescape(encodeURIComponent(str2)));
        }
        function update() {
            var output = document.getElementById("clientsecretbasic");
            output.innerHTML = "Authorization: Basic "+utf8_to_b64(client_id, client_secret)
        }
        function updateSha() {
            var output = document.getElementById("sha");
            output.innerHTML = sha
        }
        async function string_to_sha256(message) {
            // encode as UTF-8
            const msgBuffer = new TextEncoder().encode(message);                    

            // hash the message
            const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);

            return hashBuffer;
        }
        async function setSha(input) {
            let arrayBuffer = await string_to_sha256(input.value)
            let base64 = arrayBuffer_to_base64(arrayBuffer)
            let base54url = base64_to_base64url(base64)
            sha = base54url
            updateSha()
        }
        function arrayBuffer_to_base64( buffer ) {
            var binary = '';
            var bytes = new Uint8Array( buffer );
            var len = bytes.byteLength;
            for (var i = 0; i < len; i++) {
                binary += String.fromCharCode( bytes[ i ] );
            }
            return window.btoa( binary );
        }
        var base64_to_base64url = function(input) {
        // Replace non-url compatible chars with base64 standard chars
        input = input
            .replace(/\+/g, '-')
            .replace(/\//g, '_')
            .replace(/=+$/g, '');
        return input;
    }
    </script>
    <input type="text" onchange="setClientId(this)"/>
    <input type="text" onchange="setClientSecret(this)"/>
    <span id="clientsecretbasic">Nothing</span>
    <p>
        <input type="text" onchange="setSha(this)"/>
    <span id="sha">Nothing</span>
    </p>
<html>